# UI Components for AI Agent Analysis Display

This document details the UI components for presenting the analysis, signals, confidence levels, and rationales generated by individual AI agents. It builds upon the overall platform structure (`ui_structure.md`) and market data components (`market_data_ui.md`). Each agent's view will be accessible via the sidebar navigation (AI Agents > [Agent Name]) and potentially through links from the main dashboard or Portfolio Manager view.

A common design principle across all agent views will be a header section (as defined in `ui_structure.md`) showing:
*   Agent Name
*   Current Status (Active, Idle, Error)
*   Last Activity Timestamp
*   A key overall performance metric for the agent.

## 1. Market Data Analyst Agent View

This agent focuses on processing raw market data into a more refined and usable format for other agents or for direct insight. Its UI emphasizes the quality and nature of the data it provides.

*   **Layout:** Likely a tabbed interface if multiple data types or processing stages are shown.
    *   **Tab 1: Processed Data Visualizations**
    *   **Tab 2: Data Quality & Statistics**
    *   **Tab 3: Highlighted Patterns/Indicators**

*   **Content & Components:**

    *   **Pre-processed Data Visualizations (Tab 1):**
        *   **Cleaned Time Series Charts:** Similar to the real-time price charts (from `market_data_ui.md`) but displaying data after cleaning (e.g., outlier removal, missing data imputation). Users can select specific instruments.
            *   Visual cues (e.g., small markers, different color segments) to indicate where data has been adjusted or imputed.
            *   Option to overlay the raw data for comparison.
        *   **Feature-Engineered Data Points:**
            *   If the agent generates specific features (e.g., volatility measures, momentum scores derived from raw price/volume), these can be plotted as separate time series charts or displayed in a table with recent values.
            *   Example: A chart showing a custom "market choppiness index" calculated by the agent.

    *   **Key Data Summaries or Statistics (Tab 2):**
        *   **Data Quality Assessment Widget:**
            *   **Overall Confidence Score:** A prominent gauge or percentage indicating the agent's confidence in the current quality and completeness of the data it's processing for key instruments/markets.
            *   **Status Indicators:** For different data feeds (e.g., equities feed, forex feed) showing status (Connected, Delayed, Error).
            *   **Last Data Validation Timestamp.**
        *   **Statistical Summary Table:** For a selected market or instrument:
            *   Recent missing data counts.
            *   Number of outliers detected and adjusted.
            *   Key statistical properties of the cleaned data (e.g., mean, median, standard deviation of returns over a recent period).
            *   Comparison of these stats before and after cleaning (optional).

    *   **Specific Indicators or Patterns Highlighted (Tab 3):**
        *   **Pattern Log:** A chronological list or card view of significant patterns or anomalies the agent has detected in the data *before* interpretation by other specialized agents (e.g., "Unusual volume spike in AAPL," "Extended period of low volatility in EUR/USD").
            *   Timestamp, instrument, brief description.
            *   Link to the relevant chart segment.
        *   **Custom Indicator Display:** If this agent calculates unique leading indicators from the data, these are charted here with explanations of their construction.

*   **Signals:** This agent typically does not generate direct buy/sell/hold signals. Its output is data quality and processed information.
*   **Confidence Level:** Displayed prominently for its data quality assessment.
*   **Rationale:** Provided through logs, descriptions of cleaning actions, and definitions of its custom patterns/indicators.

## 2. Sentiment Agent View

This agent analyzes textual data from news, social media, and reports to gauge market sentiment.

*   **Layout:** Could use a dashboard-style layout or tabs for different sentiment facets.
    *   **Section 1: Overall Market Sentiment**
    *   **Section 2: Asset-Specific Sentiment**
    *   **Section 3: Key Sentiment Drivers & Sources**
    *   **Section 4: Sentiment-Based Signals**

*   **Content & Components:**

    *   **Overall Market Sentiment (Section 1):**
        *   **Sentiment Gauge/Dial:** For broad market sentiment (e.g., S&P 500, Global Crypto). Displays categories like "Very Bullish," "Bullish," "Neutral," "Bearish," "Very Bearish."
        *   **Sentiment Trend Line Chart:** Shows the evolution of the overall market sentiment score over a selected period (1D, 1W, 1M).

    *   **Asset-Specific Sentiment (Section 2):**
        *   **Searchable Table/List:** Users can search for an asset (stock, crypto, etc.).
        *   Displays current sentiment score, recent trend (up, down, stable), and a compact sentiment trend line for that specific asset.
        *   Color-coding for quick visual assessment.

    *   **Sources of Sentiment (Section 3):**
        *   **Top News Headlines Widget:** List of recent, high-impact news headlines, each tagged with its contribution to sentiment (e.g., positive, negative icon). Clicking opens the news item (as per `market_data_ui.md`).
        *   **Trending Social Media Topics/Keywords:** Word cloud or list of trending terms/phrases related to financial markets or specific assets, color-coded by associated sentiment.
        *   **Key Phrases from Reports:** If processing analyst reports, key sentiment-driving phrases are extracted and listed.

    *   **Sentiment-Based Trading Signals (Section 4):**
        *   **Signal Display:**
            *   **Format:** "BUY [Asset]", "SELL [Asset]", "HOLD [Asset]"
            *   **Presentation:** Displayed in a clear, distinct area, perhaps a "Latest Signals" feed or table.
            *   Each signal accompanied by:
                *   **Asset Name/Symbol.**
                *   **Signal Type (BUY/SELL/HOLD):** Clearly color-coded (e.g., Green for BUY, Red for SELL, Gray for HOLD).
                *   **Timestamp.**
        *   **Confidence Level:**
            *   **Visual:** A percentage bar, star rating (e.g., 1-5 stars), or descriptive text (Low, Medium, High Confidence) next to each signal.
            *   **Numeric:** E.g., "Confidence: 75%".
        *   **Rationale/Summary:**
            *   A concise (1-2 sentence) explanation for the signal.
            *   Example: "BUY AAPL: Strong positive sentiment shift observed post-earnings announcement, driven by multiple positive news articles and analyst upgrades. Confidence: High."
            *   An expandable section or tooltip could offer more details, like links to the top 3 contributing news/social posts.

*   **Navigation:** Tabs for "Overview," "Asset Sentiment," "News & Sources," "Signals Log."

## 3. Fundamentals Agent View

This agent focuses on company financial health, economic data, and valuation.

*   **Layout:** Tabs for different aspects of fundamental analysis.
    *   **Tab 1: Company Financials (for Equities)**
    *   **Tab 2: Economic Indicators**
    *   **Tab 3: Valuation Models**
    *   **Tab 4: Fundamental Signals**

*   **Content & Components:**

    *   **Company Financials (Tab 1):** (Context: User selects a specific company stock)
        *   **Key Ratios Display:** Cards or a table showing: P/E, P/B, P/S, EPS (TTM, Growth YoY), Revenue (TTM, Growth YoY), Debt/Equity, Dividend Yield.
        *   **Trend Charts:** Small line/bar charts showing historical trends (e.g., last 5 years) for key metrics like Revenue, Net Income, EPS.
        *   **Financial Statement Summary:** Condensed view of recent Income Statement, Balance Sheet, and Cash Flow Statement highlights. Option to link to full statements.

    *   **Economic Indicators (Tab 2):**
        *   **Tracked Indicators List/Dashboard:** Displays key economic indicators the agent monitors (e.g., GDP Growth Rate, Inflation (CPI), Unemployment Rate, Manufacturing PMI, Consumer Confidence).
        *   Each indicator shows: Latest value, previous value, trend arrow, and a small historical chart.
        *   Relevance to specific sectors or assets can be noted.

    *   **Valuation Models (Tab 3):**
        *   For a selected asset, display outputs from valuation models (e.g., DCF, comparable company analysis).
        *   Shows the agent's estimated fair value range.
        *   Key assumptions used in the models can be listed.

    *   **Fundamental-Based Trading Signals (Tab 4):**
        *   **Signal Display:** Similar to Sentiment Agent: "BUY [Asset]", "SELL [Asset]", "HOLD [Asset]", color-coded.
        *   **Confidence Level:** Percentage, descriptive text, or star rating.
        *   **Rationale/Summary:**
            *   Concise explanation based on fundamental factors.
            *   Example: "BUY MSFT: Consistent revenue and EPS growth above industry average, strong FCF generation, and recent positive revisions to GDP forecast (relevant economic indicator). Valuation appears attractive relative to 5-year average P/E. Confidence: Medium."
            *   Could link to the specific financial data points or economic indicators driving the signal.

*   **Navigation:** Tabs as listed above.

## 4. Technical Analyst Agent View

This agent analyzes price charts, patterns, and technical indicators.

*   **Layout:** Primarily chart-focused, with supplementary panels for signals and patterns.
    *   **Main Area: Interactive Chart**
    *   **Side Panel 1: Identified Patterns & Key Levels**
    *   **Side Panel 2: Technical Signals**

*   **Content & Components:**

    *   **Interactive Chart (Main Area):**
        *   Utilizes the advanced charting components defined in `market_data_ui.md`.
        *   When viewing the Technical Analyst's output for a specific asset, the chart automatically displays:
            *   Price action (candles/line).
            *   The specific technical indicators this agent prioritizes (e.g., MACD, RSI, specific MAs), pre-loaded and configured.
            *   Automatically drawn support/resistance levels identified by the agent.
            *   Overlays of identified chart patterns (e.g., a rectangle highlighting a flag pattern).

    *   **Identified Chart Patterns & Key Levels (Side Panel 1):**
        *   **Pattern List:** A list of currently identified chart patterns (e.g., "Head and Shoulders on AAPL 4H chart," "Bullish Flag on BTC 1D chart").
            *   Includes pattern name, asset, timeframe.
            *   A small thumbnail of the pattern or a button to "Focus Chart" on that pattern.
        *   **Key Levels Table:** Lists critical support and resistance levels identified by the agent, including how they were derived (e.g., "Pivot Point S1," "Previous Swing High").

    *   **Technical-Based Trading Signals (Side Panel 2):**
        *   **Signal Display:** "BUY [Asset]", "SELL [Asset]", "HOLD [Asset]", color-coded.
        *   **Confidence Level:** Percentage, descriptive text, or star rating.
        *   **Rationale/Summary:**
            *   Explanation based on technical setups.
            *   Example: "SELL EUR/USD: Price broke below key support level at 1.0800 on high volume, MACD crossed bearishly, and RSI indicates increasing bearish momentum. Next target 1.0750. Confidence: High."
            *   May include a small snapshot of the chart section that triggered the signal or highlight the specific indicators/patterns.

*   **Navigation:** The main view is the chart. Side panels can be collapsible. Users select assets to analyze via a search bar or watchlist integrated with this view.

---

**Common Elements for Signal Presentation Across Agents:**

*   **Clarity:** Signals (BUY/SELL/HOLD) should be unambiguous, using clear text and color-coding.
*   **Confidence Visualization:** Use a consistent method (e.g., percentage bars, textual labels like Low/Medium/High) across all agents for easy comparison.
*   **Concise Rationale:** Initial rationale should be brief (1-3 sentences). An option to "View Detailed Analysis" could expand to show more data points, source links (for Sentiment), or chart annotations (for Technical).
*   **Timestamping:** All signals and analyses must be clearly timestamped.
*   **Signal Log:** Each agent view might have a "Signal History" tab or section to review past signals and their outcomes (if performance tracking is integrated at this level).

This structure ensures that each AI agent's unique contribution is presented clearly, allowing users to understand the "what," "why," and "how confidently" behind their analyses and trading signals.
